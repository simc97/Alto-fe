{"ast":null,"code":"import { EventEmitter } from 'events';\nimport AppDispatcher from '../dispatcher/AppDispatcher.js';\nimport moment from 'moment';\n\nlet missionJSON = require('../assets/data/mission.json');\n\nvar storage = {\n  mission: missionJSON // this is mock data, ideally we would call the api to set this value\n\n};\nvar TripDetailStore = Object.assign({}, EventEmitter.prototype, {\n  getMission: () => storage.mission,\n  getTrip: () => storage.mission.trip,\n  getDriver: () => storage.mission.driver,\n  getVehicle: () => storage.mission.vehicle,\n  getVibe: () => storage.mission.vibe,\n  dispatcherId: AppDispatcher.register(payload => {\n    var action = payload.action;\n\n    switch (action.type) {\n      case 'SET_MISSION_DATA':\n        _transformData();\n\n        TripDetailStore.emit('change');\n        break;\n\n      default:\n        return null;\n    }\n  })\n});\n\nconst _transformData = () => {\n  storage.mission.trip.estimated_arrival = moment(storage.mission.trip.estimated_arrival).format('h:mm A');\n  console.log(storage.mission.trip.estimated_arrival);\n};\n\nexport default TripDetailStore;","map":{"version":3,"sources":["/Users/sim/Documents/React/Alto/alto-web/src/stores/TripDetailStore.js"],"names":["EventEmitter","AppDispatcher","moment","missionJSON","require","storage","mission","TripDetailStore","Object","assign","prototype","getMission","getTrip","trip","getDriver","driver","getVehicle","vehicle","getVibe","vibe","dispatcherId","register","payload","action","type","_transformData","emit","estimated_arrival","format","console","log"],"mappings":"AAAA,SAASA,YAAT,QAA6B,QAA7B;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,IAAIC,WAAW,GAAGC,OAAO,CAAC,6BAAD,CAAzB;;AAEA,IAAIC,OAAO,GAAG;AACVC,EAAAA,OAAO,EAAEH,WADC,CACW;;AADX,CAAd;AAKA,IAAII,eAAe,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBT,YAAY,CAACU,SAA/B,EAA0C;AAE5DC,EAAAA,UAAU,EAAE,MAAMN,OAAO,CAACC,OAFkC;AAG5DM,EAAAA,OAAO,EAAE,MAAMP,OAAO,CAACC,OAAR,CAAgBO,IAH6B;AAI5DC,EAAAA,SAAS,EAAE,MAAMT,OAAO,CAACC,OAAR,CAAgBS,MAJ2B;AAK5DC,EAAAA,UAAU,EAAE,MAAMX,OAAO,CAACC,OAAR,CAAgBW,OAL0B;AAM5DC,EAAAA,OAAO,EAAE,MAAMb,OAAO,CAACC,OAAR,CAAgBa,IAN6B;AAS5DC,EAAAA,YAAY,EAAEnB,aAAa,CAACoB,QAAd,CAAuBC,OAAO,IAAI;AAC5C,QAAIC,MAAM,GAAGD,OAAO,CAACC,MAArB;;AAEA,YAAOA,MAAM,CAACC,IAAd;AACI,WAAK,kBAAL;AACIC,QAAAA,cAAc;;AACdlB,QAAAA,eAAe,CAACmB,IAAhB,CAAqB,QAArB;AACA;;AACJ;AACI,eAAO,IAAP;AANR;AAQH,GAXa;AAT8C,CAA1C,CAAtB;;AAuBA,MAAMD,cAAc,GAAG,MAAM;AACzBpB,EAAAA,OAAO,CAACC,OAAR,CAAgBO,IAAhB,CAAqBc,iBAArB,GAAyCzB,MAAM,CAACG,OAAO,CAACC,OAAR,CAAgBO,IAAhB,CAAqBc,iBAAtB,CAAN,CAA+CC,MAA/C,CAAsD,QAAtD,CAAzC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYzB,OAAO,CAACC,OAAR,CAAgBO,IAAhB,CAAqBc,iBAAjC;AACH,CAHD;;AAKA,eAAepB,eAAf","sourcesContent":["import { EventEmitter } from 'events';\nimport AppDispatcher from '../dispatcher/AppDispatcher.js';\nimport moment from 'moment';\n\nlet missionJSON = require('../assets/data/mission.json');\n\nvar storage = { \n    mission: missionJSON // this is mock data, ideally we would call the api to set this value\n};\n\n\nvar TripDetailStore = Object.assign({}, EventEmitter.prototype, {\n    \n    getMission: () => storage.mission,\n    getTrip: () => storage.mission.trip,\n    getDriver: () => storage.mission.driver,\n    getVehicle: () => storage.mission.vehicle,\n    getVibe: () => storage.mission.vibe,\n\n\n    dispatcherId: AppDispatcher.register(payload => {\n        var action = payload.action;\n    \n        switch(action.type) {\n            case 'SET_MISSION_DATA':\n                _transformData();\n                TripDetailStore.emit('change');\n                break;\n            default:\n                return null;\n        }\n    })\n});\n\nconst _transformData = () => {\n    storage.mission.trip.estimated_arrival = moment(storage.mission.trip.estimated_arrival).format('h:mm A')\n    console.log(storage.mission.trip.estimated_arrival);\n};\n\nexport default TripDetailStore;"]},"metadata":{},"sourceType":"module"}